import{R,r as d,f as fe,a as ne,j as l,i as $,F as z,b as Ne,c as _e,d as ke,e as oe,g as Se,h as ft,k as ht,l as dt,m as vt,n as pt,o as gt,p as mt,q as yt,s as bt,t as wt,u as _t,v as St,w as xt,x as Ce,y as je,z as Et,A as Ot,B as Tt,C as Z,D as ee,E as Me,G as Ct}from"./index-DIN6M8IL.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ge=function(e,t){return ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},ge(e,t)};function jt(e,t){ge(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var se=function(){return se=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},se.apply(this,arguments)};function Mt(e,t,n,r){var i,s=!1,o=0;function f(){i&&clearTimeout(i)}function p(){f(),s=!0}typeof t!="boolean"&&(r=n,n=t,t=void 0);function m(){var w=this,S=Date.now()-o,y=arguments;if(s)return;function O(){o=Date.now(),n.apply(w,y)}function j(){i=void 0}r&&!i&&O(),f(),r===void 0&&S>e?O():t!==!0&&(i=setTimeout(r?j:O,r===void 0?e-S:e))}return m.cancel=p,m}var te={Pixel:"Pixel",Percent:"Percent"},Le={unit:te.Percent,value:.8};function Ie(e){return typeof e=="number"?{unit:te.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:te.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:te.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Le):(console.warn("scrollThreshold should be string or number"),Le)}var De=function(e){jt(t,e);function t(n){var r=e.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(i){r.lastScrollTop||(r.dragging=!0,i instanceof MouseEvent?r.startY=i.pageY:i instanceof TouchEvent&&(r.startY=i.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(i){r.dragging&&(i instanceof MouseEvent?r.currentY=i.pageY:i instanceof TouchEvent&&(r.currentY=i.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(i){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(i)},0);var s=r.props.height||r._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var o=r.props.inverse?r.isElementAtTop(s,r.props.scrollThreshold):r.isElementAtBottom(s,r.props.scrollThreshold);o&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=s.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=Mt(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return t.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(n,r){var i=n.dataLength!==r.prevDataLength;return i?se(se({},r),{prevDataLength:n.dataLength}):null},t.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,s=Ie(r);return s.unit===te.Pixel?n.scrollTop<=s.value+i-n.scrollHeight+1:n.scrollTop<=s.value/100+i-n.scrollHeight+1},t.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,s=Ie(r);return s.unit===te.Pixel?n.scrollTop+i>=n.scrollHeight-s.value:n.scrollTop+i>=s.value/100*n.scrollHeight},t.prototype.render=function(){var n=this,r=se({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),s=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return R.createElement("div",{style:s,className:"infinite-scroll-component__outerdiv"},R.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return n._infScroll=o},style:r},this.props.pullDownToRefresh&&R.createElement("div",{style:{position:"relative"},ref:function(o){return n._pullDown=o}},R.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(d.Component);function Lt({image:e,actualRowHeight:t,slideNumber:n,setSlideIndex:r,jumpToIndex:i,setAllImages:s,radius:o,rightSpace:f=0}){const[p,m]=d.useState(!1),[w,S]=d.useState(fe),[y,O]=d.useState(ne),[j,C]=d.useState(!1),[L,M]=d.useState(e.thumbsrc),[h,_]=d.useState(0),x=3;d.useEffect(()=>{if(h>0&&h<=x){const a=setTimeout(()=>{M(`${e.thumbsrc}?retry=${h}`)},Math.floor(Math.random()*7001)+3e3);return()=>clearTimeout(a)}},[h]);const c=()=>{h<x?_(h+1):console.error("Failed to load image after several attempts.")};d.useEffect(()=>{let a={};localStorage.getItem("favList")&&(a=JSON.parse(localStorage.getItem("favList"))),a[e.imgid]&&m(!0)},[]);const b=()=>{const a=!p;m(a);let v={};localStorage.getItem("favList")&&(v=JSON.parse(localStorage.getItem("favList"))),a?v[e.imgid]=e:delete v[e.imgid];let E=[];Object.entries(v).forEach(([I,P])=>{E.push(P)}),s(I=>({...I,fav:E})),localStorage.setItem("favList",JSON.stringify(v))},u=async()=>{const a=e.fullressrc,v=await fetch(a);if(!v.ok)throw new Error("Image download failed.");const E=await v.blob(),I=URL.createObjectURL(E),P=document.createElement("a");P.href=I;const U=new Date,H=U.getFullYear(),F=String(U.getMonth()+1).padStart(2,"0"),A=String(U.getDate()).padStart(2,"0"),B=String(U.getHours()).padStart(2,"0"),k=String(U.getMinutes()).padStart(2,"0"),D=String(U.getSeconds()).padStart(2,"0"),K=String(U.getMilliseconds()).padStart(3,"0"),q=`${document.title}_${H}${F}${A}${B}${k}${D}${K}.jpg`;P.download=q,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(I)},g=()=>{const a=window.location.pathname.split("/");a.length<=3?a.push("share/"):(a.length=3,a[a.length-1]==""?a[a.length-2]="share":a[a.length-1]="share/");const v=window.location.origin+a.join("/").replace("//","/")+"?id="+e.imgid;navigator.share?navigator.share({title:document.title,text:document.title,url:v}):navigator.clipboard?navigator.clipboard.writeText(v):console.error("Neither Web Share API nor Clipboard API is supported")};return l.jsx("div",{style:{backgroundColor:"rgba(0,0,0,0)",marginRight:f,width:e.width/e.height*t,height:t},children:l.jsxs("div",{className:"image-container",style:{marginRight:f,width:e.width/e.height*t,height:t},children:[l.jsx("img",{id:e.imgid,src:L,style:{borderRadius:o},loading:"lazy",onError:c,onLoad:a=>a.target.style.opacity="1",onClick:()=>{r(n),i(n)},onContextMenu:a=>a.preventDefault()}),!$&&l.jsx("div",{className:"overlay",onClick:()=>{r(n),i(n)},onContextMenu:a=>a.preventDefault(),onMouseOver:()=>C(!0),onMouseLeave:()=>C(!1),children:j&&l.jsxs(l.Fragment,{children:[p?l.jsx(z,{icon:Ne,size:"lg",color:"#DC143C",onClick:a=>{a.stopPropagation(),b()}}):l.jsx(z,{icon:_e,size:"lg",color:"#ddd",onClick:a=>{a.stopPropagation(),b()}}),l.jsx(z,{icon:w,size:"lg",style:{marginLeft:10},color:"#ddd",onClick:a=>{a.stopPropagation(),u(),S(ke),setTimeout(()=>{S(fe)},oe)}}),l.jsx(z,{icon:y,size:"lg",style:{marginLeft:10},color:"#ddd",onClick:a=>{a.stopPropagation(),g(),O(Se),setTimeout(()=>{O(ne)},oe)}})]})})]})})}function It({images:e,faceImages:t,imagesToRender:n,setImagesToRender:r,setAllImages:i,setSlideIndex:s,jumpToIndex:o,limit:f=5,targetRowHeight:p,edgeMargin:m,spacing:w,radius:S=0,ratioLimit:y=2}){const[O,j]=d.useState(document.documentElement.clientWidth-2*m),[C,L]=d.useState(f),M=()=>{const x=localStorage.getItem("filterMode");let c;x?c=Number(localStorage.getItem("filterMode")):(localStorage.setItem("filterMode",String(0)),c=0);let b={};if(localStorage.getItem("faceList")&&(b=JSON.parse(localStorage.getItem("faceList"))),Object.keys(b).length==0)r(e);else{let u=[];if(c==0)u=e.filter(g=>Object.keys(b).some(a=>b[a].includes(g.imgid)));else if(c==1)u=e.filter(g=>Object.keys(b).every(a=>b[a].includes(g.imgid)));else if(c==2){const g=e.filter(v=>Object.keys(b).every(E=>b[E].includes(v.imgid))),a=Object.fromEntries(Object.entries(t).map(([v,E])=>[v,E.map(I=>I.sourceid)]));g.map(v=>{let E=0;Object.keys(a).map(I=>{a[I].map(P=>{P==v.imgid&&(E+=1)})}),E==Object.keys(b).length&&u.push(v)})}else u=e;r(u)}};d.useEffect(()=>{M();const x=()=>{j(document.documentElement.clientWidth-2*m)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),d.useEffect(()=>{M()},[e]);const h=()=>{L(C+1)},_=x=>{let c=[],b=0,u=p;for(let g=1;g<=C;g++){let a=b,v=0;for(;v<O&&b!=x.length;){const E=x[b];if(v+E.width/E.height*p+w>=O&&Math.abs(O-v)<Math.abs(v+E.width/E.height*p+w-O))break;v+=E.width/E.height*p+w,b++}if(v-=w,v>0){const E=O/v<y?p*(O/v):u;c.push(l.jsx("div",{className:"flex-container",style:{height:O/v<y?p*(O/v):u,marginBottom:w,justifyContent:O/v>=y?"left":""},children:x.slice(a,b).map((I,P)=>l.jsx(Lt,{image:I,actualRowHeight:E,slideNumber:a+P,setSlideIndex:s,jumpToIndex:o,setAllImages:i,radius:S,rightSpace:O/v>=y?w:0},I.imgid))},b)),u=O/v<y?p*(O/v):u}if(b==x.length)break}return c};return l.jsx(De,{next:h,hasMore:!0,dataLength:C,loader:l.jsx(l.Fragment,{}),children:l.jsx("div",{className:"headRow",style:{margin:m,marginTop:0},children:n.length>0?_(n):l.jsx("div",{className:"blank",style:{marginTop:2*m},children:l.jsx("div",{children:"Nothing to see here yet"})})})})}function Pt({images:e,actualRowHeight:t,radius:n,rightSpace:r=0}){const[i,s]=d.useState(e[Math.floor(Math.random()*e.length)]),[o,f]=d.useState(i.thumbsrc),[p,m]=d.useState(0),[w,S]=d.useState(i.thumbsrc),[y,O]=d.useState(0),[j,C]=d.useState(0),L=3,M=1e3,h="ease",_=0,[x,c]=d.useState(!1),b=()=>{setTimeout(()=>{O(1),setTimeout(()=>{m(0);const a=Math.floor(Math.random()*e.length);s(e[a]),C(0),f(e[a].thumbsrc)},1e3),b()},Math.floor(Math.random()*0)+9e3)};d.useEffect(()=>{b();let a={};localStorage.getItem("faceList")&&(a=JSON.parse(localStorage.getItem("faceList"))),a[e[0].parentid]&&c(!0)},[]),d.useEffect(()=>{if(j>0&&j<=L){const a=setTimeout(()=>{f(`${i.thumbsrc}?retry=${j}`)},Math.floor(Math.random()*7001)+3e3);return()=>clearTimeout(a)}},[j]);const u=()=>{j<L?C(j+1):console.error("Failed to load image after several attempts.")},g=()=>{const a=!x;c(a);let v={};localStorage.getItem("faceList")&&(v=JSON.parse(localStorage.getItem("faceList"))),a?v[e[0].parentid]=e.map(E=>E.sourceid):delete v[e[0].parentid],localStorage.setItem("faceList",JSON.stringify(v))};return l.jsx("div",{style:{backgroundColor:"rgba(0,0,0,0)",marginRight:r,width:t,height:t},children:l.jsxs("div",{className:"image-container",style:{marginRight:r,width:t,height:t},onContextMenu:a=>a.preventDefault(),onClick:a=>{a.stopPropagation(),g()},children:[l.jsx("img",{src:o,style:{borderRadius:n,opacity:p,position:"absolute",top:0,left:0,transition:`opacity ${M/1e3}s ${h} ${_/1e3}s`},onError:u,onLoad:a=>{m(1),setTimeout(()=>{O(0)},1e3),setTimeout(()=>{S(o)},2e3)}}),l.jsx("img",{src:w,style:{borderRadius:n,opacity:y,transition:`opacity ${M/1e3}s ${h} ${_/1e3}s`,position:"absolute",top:0,left:0},onError:u}),l.jsx("div",{className:"overlay overlay-faces",onContextMenu:a=>a.preventDefault(),children:x?l.jsx(z,{icon:ht,size:"xl",color:"#ddd",onClick:a=>{a.stopPropagation(),g()}}):l.jsx(z,{icon:ft,size:"xl",color:"#ddd",onClick:a=>{a.stopPropagation(),g()}})})]})})}function Rt(){const[e,t]=d.useState(0),n=[dt,vt,pt],r=[["At least one","of the selected faces"],["Include all","of the selected faces"],["Include only","the selected faces"]];return d.useEffect(()=>{const i=localStorage.getItem("filterMode");i?t(Number(i)):localStorage.setItem("filterMode",String(0))},[]),l.jsxs("div",{id:"eventBox",className:"eventBox",style:{paddingTop:0},children:[r.map((i,s)=>l.jsxs("div",{className:"event",style:{color:e==s?"#000":"",flexDirection:"row",alignItems:"center",paddingRight:s!=r.length-1?"":0},onClick:()=>{t(s),localStorage.setItem("filterMode",String(s))},children:[l.jsx(z,{icon:n[s],size:"lg",style:{paddingRight:10}}),l.jsxs("div",{children:[i[0],l.jsx("div",{className:"titleLight",children:i[1]})]})]},s)),l.jsx("div",{className:"event",style:{marginLeft:"auto",paddingRight:0}})]})}function Nt({faceImages:e,limit:t=5,targetRowHeight:n,edgeMargin:r,spacing:i,radius:s=0,ratioLimit:o=2}){const[f,p]=d.useState(document.documentElement.clientWidth-2*r),[m,w]=d.useState([]);d.useEffect(()=>{let C=[];for(const M in e){let h=[];for(let _=0;_<e[M].length;_++)h.push(e[M][_]);C.push(h)}w(C);const L=()=>{p(document.documentElement.clientWidth-2*r)};return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]);const[S,y]=d.useState(t),O=()=>{y(S+1)},j=C=>{let L=[],M=0,h=n;for(let _=1;_<=S;_++){let x=M,c=0;for(;c<f&&!(M==C.length||c*n+i>=f&&Math.abs(f-c)<Math.abs(c+n+i-f));)c+=n+i,M++;if(c-=i,c>0){const b=f/c<o?n*(f/c):h;L.push(l.jsx("div",{className:"flex-container",style:{height:f/c<o?n*(f/c):h,marginBottom:i,justifyContent:f/c>=o?"left":""},children:C.slice(x,M).map(u=>l.jsx(Pt,{images:u,actualRowHeight:b,radius:s,rightSpace:f/c>=o?i:0},u[0].parentid))},M)),h=f/c<o?n*(f/c):h}if(M==C.length)break}return L};return l.jsxs(l.Fragment,{children:[l.jsx(Rt,{}),l.jsx(De,{next:O,hasMore:!0,dataLength:S,loader:l.jsx(l.Fragment,{}),children:l.jsx("div",{className:"headRow",style:{margin:r,marginTop:0},children:m.length>0?j(m):l.jsx("div",{className:"blank",style:{marginTop:2*r},children:l.jsx("div",{children:"Nothing to see here yet"})})})})]})}var Ae=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},t}()}(),me=typeof window<"u"&&typeof document<"u"&&window.document===document,he=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),kt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(he):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Dt=2;function At(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&f()}function o(){kt(s)}function f(){var p=Date.now();if(n){if(p-i<Dt)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=p}return f}var $t=20,zt=["top","right","bottom","left","width","height","size","weight"],Ft=typeof MutationObserver<"u",Ut=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=At(this.refresh.bind(this),$t)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!me||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ft?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!me||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=zt.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),$e=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},re=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||he},ze=ve(0,0,0,0);function de(e){return parseFloat(e)||0}function Pe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var s=e["border-"+i+"-width"];return r+de(s)},0)}function Bt(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var s=i[r],o=e["padding-"+s];n[s]=de(o)}return n}function Wt(e){var t=e.getBBox();return ve(0,0,t.width,t.height)}function Ht(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return ze;var r=re(e).getComputedStyle(e),i=Bt(r),s=i.left+i.right,o=i.top+i.bottom,f=de(r.width),p=de(r.height);if(r.boxSizing==="border-box"&&(Math.round(f+s)!==t&&(f-=Pe(r,"left","right")+s),Math.round(p+o)!==n&&(p-=Pe(r,"top","bottom")+o)),!qt(e)){var m=Math.round(f+s)-t,w=Math.round(p+o)-n;Math.abs(m)!==1&&(f-=m),Math.abs(w)!==1&&(p-=w)}return ve(i.left,i.top,f,p)}var Yt=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof re(e).SVGGraphicsElement}:function(e){return e instanceof re(e).SVGElement&&typeof e.getBBox=="function"}}();function qt(e){return e===re(e).document.documentElement}function Gt(e){return me?Yt(e)?Wt(e):Ht(e):ze}function Jt(e){var t=e.x,n=e.y,r=e.width,i=e.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return $e(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}function ve(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Vt=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ve(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Gt(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),Qt=function(){function e(t,n){var r=Jt(n);$e(this,{target:t,contentRect:r})}return e}(),Kt=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new Ae,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof re(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new Vt(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof re(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Qt(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Fe=typeof WeakMap<"u"?new WeakMap:new Ae,Ue=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ut.getInstance(),r=new Kt(t,n,this);Fe.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Ue.prototype[e]=function(){var t;return(t=Fe.get(this))[e].apply(t,arguments)}});var Be=function(){return typeof he.ResizeObserver<"u"?he.ResizeObserver:Ue}(),Y=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var t=1.70158;return e===1?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return e===0?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-Y.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?Y.Bounce.In(e*2)*.5:Y.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(t*2,e)/2:(1-Math.pow(2-t*2,e))/2+.5}}}}),ie=function(){return performance.now()},xe=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(n){return t._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},e.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},e.prototype.update=function(t,n){t===void 0&&(t=ie()),n===void 0&&(n=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var s=this._tweens[r[i]],o=!n;s&&s.update(t,o)===!1&&!n&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),ye={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=ye.Utils.Linear;return t<0?s(e[0],e[1],r):t>1?s(e[n],e[n-1],n-r):s(e[i],e[i+1>n?n:i+1],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e}}},We=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),be=new xe,He=function(){function e(t,n){n===void 0&&(n=be),this._object=t,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Y.Linear.None,this._interpolationFunction=ye.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=We.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(t,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=t,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},e.prototype.duration=function(t){return t===void 0&&(t=1e3),this._duration=t<0?0:t,this},e.prototype.dynamic=function(t){return t===void 0&&(t=!1),this._isDynamic=t,this},e.prototype.start=function(t,n){if(t===void 0&&(t=ie()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var s in this._valuesEnd)i[s]=this._valuesEnd[s];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},e.prototype.startFromCurrentValues=function(t){return this.start(t,!0)},e.prototype._setupProperties=function(t,n,r,i,s){for(var o in r){var f=t[o],p=Array.isArray(f),m=p?"array":typeof f,w=!p&&Array.isArray(r[o]);if(!(m==="undefined"||m==="function")){if(w){var S=r[o];if(S.length===0)continue;for(var y=[f],O=0,j=S.length;O<j;O+=1){var C=this._handleRelativeValue(f,S[O]);if(isNaN(C)){w=!1,console.warn("Found invalid interpolation list. Skipping.");break}y.push(C)}w&&(r[o]=y)}if((m==="object"||p)&&f&&!w){n[o]=p?[]:{};var L=f;for(var M in L)n[o][M]=L[M];i[o]=p?[]:{};var S=r[o];if(!this._isDynamic){var h={};for(var M in S)h[M]=S[M];r[o]=S=h}this._setupProperties(L,n[o],S,i[o],s)}else(typeof n[o]>"u"||s)&&(n[o]=f),p||(n[o]*=1),w?i[o]=r[o].slice().reverse():i[o]=n[o]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(t){return t===void 0&&(t=ie()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this),this)},e.prototype.resume=function(t){return t===void 0&&(t=ie()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var t=0,n=this._chainedTweens.length;t<n;t++)this._chainedTweens[t].stop();return this},e.prototype.group=function(t){return t===void 0&&(t=be),this._group=t,this},e.prototype.delay=function(t){return t===void 0&&(t=0),this._delayTime=t,this},e.prototype.repeat=function(t){return t===void 0&&(t=0),this._initialRepeat=t,this._repeat=t,this},e.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},e.prototype.yoyo=function(t){return t===void 0&&(t=!1),this._yoyo=t,this},e.prototype.easing=function(t){return t===void 0&&(t=Y.Linear.None),this._easingFunction=t,this},e.prototype.interpolation=function(t){return t===void 0&&(t=ye.Linear),this._interpolationFunction=t,this},e.prototype.chain=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._chainedTweens=t,this},e.prototype.onStart=function(t){return this._onStartCallback=t,this},e.prototype.onEveryStart=function(t){return this._onEveryStartCallback=t,this},e.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},e.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},e.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},e.prototype.onStop=function(t){return this._onStopCallback=t,this},e.prototype.update=function(t,n){var r=this,i;if(t===void 0&&(t=ie()),n===void 0&&(n=!0),this._isPaused)return!0;var s,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>o)return!1;n&&this.start(t,!0)}if(this._goToEnd=!1,t<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var f=t-this._startTime,p=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),m=this._duration+this._repeat*p,w=function(){if(r._duration===0||f>m)return 1;var L=Math.trunc(f/p),M=f-L*p,h=Math.min(M/r._duration,1);return h===0&&f===r._duration?1:h},S=w(),y=this._easingFunction(S);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,y),this._onUpdateCallback&&this._onUpdateCallback(this._object,S),this._duration===0||f>=this._duration)if(this._repeat>0){var O=Math.min(Math.trunc((f-this._duration)/p)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=O);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=p*O,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var j=0,C=this._chainedTweens.length;j<C;j++)this._chainedTweens[j].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(t,n,r,i){for(var s in r)if(n[s]!==void 0){var o=n[s]||0,f=r[s],p=Array.isArray(t[s]),m=Array.isArray(f),w=!p&&m;w?t[s]=this._interpolationFunction(f,i):typeof f=="object"&&f?this._updateProperties(t[s],o,f,i):(f=this._handleRelativeValue(o,f),typeof f=="number"&&(t[s]=o+(f-o)*i))}},e.prototype._handleRelativeValue=function(t,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?t+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(t){var n=this._valuesStartRepeat[t],r=this._valuesEnd[t];typeof r=="string"?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(r):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=n},e}();We.nextId;var V=be;V.getAll.bind(V);V.removeAll.bind(V);V.add.bind(V);V.remove.bind(V);V.update.bind(V);const Ye=(e,t)=>t&&t<R.Children.count(e)?t:0,Xt=(e,t)=>{if(typeof window<"u"&&Array.isArray(t))return t.find(n=>n.breakpoint<=e)},Re={linear:Y.Linear.None,ease:Y.Quadratic.InOut,"ease-in":Y.Quadratic.In,"ease-out":Y.Quadratic.Out,cubic:Y.Cubic.InOut,"cubic-in":Y.Cubic.In,"cubic-out":Y.Cubic.Out},qe=e=>e?Re[e]:Re.linear,Ge=({prevArrow:e,infinite:t},n,r)=>{const i=n<=0&&!t,s={"data-type":"prev","aria-label":"Previous Slide",disabled:i,onClick:r};if(e)return R.cloneElement(e,{className:`${e.props.className||""} nav ${i?"disabled":""}`,...s});const o=`nav default-nav ${i?"disabled":""}`;return l.jsx("button",{type:"button",className:o,...s,children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})})})},Je=(e,t,n,r)=>{const{nextArrow:i,infinite:s,children:o}=e;let f=1;r?f=r==null?void 0:r.settings.slidesToScroll:"slidesToScroll"in e&&(f=e.slidesToScroll||1);const p=t>=R.Children.count(o)-f&&!s,m={"data-type":"next","aria-label":"Next Slide",disabled:p,onClick:n};if(i)return R.cloneElement(i,{className:`${i.props.className||""} nav ${p?"disabled":""}`,...m});const w=`nav default-nav ${p?"disabled":""}`;return l.jsx("button",{type:"button",className:w,...m,children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"})})})},Zt=(e,t,n)=>l.jsx("li",{children:l.jsx("button",{type:"button",className:`each-slideshow-indicator ${e?"active":""}`,...n})},t),en=(e,t,n,r)=>R.cloneElement(r,{className:`${r.props.className} ${e?"active":""}`,key:t,...n}),Ve=(e,t,n,r)=>{const{children:i,indicators:s}=e;let o=1;r?o=r==null?void 0:r.settings.slidesToScroll:"slidesToScroll"in e&&(o=e.slidesToScroll||1);const f=Math.ceil(R.Children.count(i)/o);return l.jsx("ul",{className:"indicators",children:Array.from({length:f},(p,m)=>{const w={"data-key":m,"aria-label":`Go to slide ${m+1}`,onClick:n},S=Math.floor((t+o-1)/o)===m;return typeof s=="function"?en(S,m,w,s(m)):Zt(S,m,w)})})},pe={duration:5e3,transitionDuration:1e3,defaultIndex:0,infinite:!0,autoplay:!0,indicators:!1,arrows:!0,pauseOnHover:!0,easing:"linear",canSwipe:!0,cssClass:"",responsive:[]},Ee=R.forwardRef((e,t)=>{const[n,r]=d.useState(Ye(e.children,e.defaultIndex)),i=d.useRef(null),s=d.useRef(null),o=d.useRef(new xe),f=d.useRef(),p=d.useRef(),m=d.useMemo(()=>R.Children.count(e.children),[e.children]),w=d.useCallback(()=>{if(s.current&&i.current){const u=i.current.clientWidth,g=u*m;s.current.style.width=`${g}px`;for(let a=0;a<s.current.children.length;a++){const v=s.current.children[a];v&&(v.style.width=`${u}px`,v.style.left=`${a*-u}px`,v.style.display="block")}}},[i,s,m]),S=d.useCallback(()=>{i.current&&(p.current=new Be(u=>{u&&w()}),p.current.observe(i.current))},[i,w]),y=d.useCallback(()=>{const{autoplay:u,children:g,duration:a,infinite:v}=e;u&&R.Children.count(g)>1&&(v||n<R.Children.count(g)-1)&&(f.current=setTimeout(L,a))},[e,n]);d.useEffect(()=>(S(),()=>{o.current.removeAll(),clearTimeout(f.current),O()}),[S,o]),d.useEffect(()=>{clearTimeout(f.current),y()},[n,e.autoplay,y]),d.useEffect(()=>{w()},[m,w]),d.useImperativeHandle(t,()=>({goNext:()=>{L()},goBack:()=>{M()},goTo:(u,g)=>{g!=null&&g.skipTransition?r(u):c(u)}}));const O=()=>{p.current&&i.current&&p.current.unobserve(i.current)},j=()=>{e.pauseOnHover&&clearTimeout(f.current)},C=()=>{const{pauseOnHover:u,autoplay:g,duration:a}=e;u&&g&&(f.current=setTimeout(()=>L(),a))},L=()=>{const{children:u,infinite:g}=e;!g&&n===R.Children.count(u)-1||x((n+1)%R.Children.count(u))},M=()=>{const{children:u,infinite:g}=e;!g&&n===0||x(n===0?R.Children.count(u)-1:n-1)},h=u=>{const{currentTarget:g}=u;g.dataset.type==="prev"?M():L()},_=()=>{requestAnimationFrame(_),o.current.update()},x=u=>{var a;if(!o.current.getAll().length){(a=s.current)!=null&&a.children[u]||(u=0),clearTimeout(f.current);const v={opacity:0,scale:1};_();const E=new He(v,o.current).to({opacity:1,scale:e.scale},e.transitionDuration).onUpdate(I=>{s.current&&(s.current.children[u].style.opacity=I.opacity,s.current.children[n].style.opacity=1-I.opacity,s.current.children[n].style.transform=`scale(${I.scale})`)});E.easing(qe(e.easing)),E.onStart(()=>{typeof e.onStartChange=="function"&&e.onStartChange(n,u)}),E.onComplete(()=>{s.current&&(r(u),s.current.children[n].style.transform="scale(1)"),typeof e.onChange=="function"&&e.onChange(n,u)}),E.start()}},c=u=>{u!==n&&x(u)},b=u=>{const{currentTarget:g}=u;g.dataset.key&&parseInt(g.dataset.key)!==n&&c(parseInt(g.dataset.key))};return l.jsxs("div",{dir:"ltr","aria-roledescription":"carousel",children:[l.jsxs("div",{className:`react-slideshow-container ${e.cssClass||""}`,onMouseEnter:j,onMouseOver:j,onMouseLeave:C,children:[e.arrows&&Ge(e,n,h),l.jsx("div",{className:`react-slideshow-fadezoom-wrapper ${e.cssClass}`,ref:i,children:l.jsx("div",{className:"react-slideshow-fadezoom-images-wrap",ref:s,children:(R.Children.map(e.children,u=>u)||[]).map((u,g)=>l.jsx("div",{style:{opacity:g===n?"1":"0",zIndex:g===n?"1":"0"},"data-index":g,"aria-roledescription":"slide","aria-hidden":g===n?"false":"true",children:u},g))})}),e.arrows&&Je(e,n,h)]}),e.indicators&&Ve(e,n,b)]})});Ee.defaultProps=pe;const tn=R.forwardRef((e,t)=>l.jsx(Ee,{...e,scale:1,ref:t}));tn.defaultProps=pe;const nn=R.forwardRef((e,t)=>l.jsx(Ee,{...e,ref:t}));nn.defaultProps=pe;const Qe=R.forwardRef((e,t)=>{const[n,r]=d.useState(Ye(e.children,e.defaultIndex)),[i,s]=d.useState(0),o=d.useRef(null),f=d.useRef(null),p=d.useRef(new xe),m=d.useMemo(()=>Xt(i,e.responsive),[i,e.responsive]),w=d.useMemo(()=>m?m.settings.slidesToScroll:e.slidesToScroll||1,[m,e.slidesToScroll]),S=d.useMemo(()=>m?m.settings.slidesToShow:e.slidesToShow||1,[m,e.slidesToShow]),y=d.useMemo(()=>R.Children.count(e.children),[e.children]),O=d.useMemo(()=>i/S,[i,S]),j=d.useRef(),C=d.useRef();let L,M=!1,h=0;const _=e.vertical?"translateY":"translateX",x=e.vertical?"clientY":"clientX",c=e.vertical?"pageY":"pageX",b=d.useCallback(()=>{if(f.current){const T=i*f.current.children.length,N=e.vertical?"height":"width";f.current.style[N]=`${T}px`,e.vertical&&o.current&&(o.current.style[N]=`${i}px`);for(let W=0;W<f.current.children.length;W++){const G=f.current.children[W];G&&(e.vertical||(G.style[N]=`${O}px`),G.style.display="block")}}},[i,O]),u=d.useCallback(()=>{o.current&&(C.current=new Be(T=>{T&&K()}),C.current.observe(o.current))},[o]),g=d.useCallback(()=>{const{autoplay:T,infinite:N,duration:W}=e;T&&(N||n<y-1)&&(j.current=setTimeout(I,W))},[e,y,n]);d.useEffect(()=>{b()},[i,b]),d.useEffect(()=>(u(),()=>{p.current.removeAll(),clearTimeout(j.current),a()}),[o,u,p]),d.useEffect(()=>{clearTimeout(j.current),g()},[n,i,e.autoplay,g]),d.useImperativeHandle(t,()=>({goNext:()=>{I()},goBack:()=>{P()},goTo:(T,N)=>{N!=null&&N.skipTransition?r(T):H(T)}}));const a=()=>{C&&o.current&&C.current.unobserve(o.current)},v=()=>{e.pauseOnHover&&clearTimeout(j.current)},E=T=>{if(e.canSwipe&&M){let N;if(window.TouchEvent&&T.nativeEvent instanceof TouchEvent?N=T.nativeEvent.touches[0][c]:N=T.nativeEvent[x],N&&L){let W=O*(n+le());const G=N-L;if(!e.infinite&&n===y-w&&G<0||!e.infinite&&n===0&&G>0||e.infinite&&!e.customEdgeLimitLeft&&G>0||e.infinite&&!e.customEdgeLimitRight&&G<0)return;h=G,W-=h,f.current.style.transform=`${_}(-${W}px)`}}},I=()=>{if(!e.infinite&&n===y-w)return;const T=F(n+w);ce(T)},P=()=>{if(!e.infinite&&n===0)return;let T=n-w;T%w&&(T=Math.ceil(T/w)*w),ce(T)},U=({currentTarget:T})=>{if(!T.dataset.key)return;const N=parseInt(T.dataset.key);H(N*w)},H=T=>{ce(F(T))},F=T=>T<y&&T+w>y&&(y-w)%w?y-w:T,A=()=>{M?J():e.pauseOnHover&&e.autoplay&&(j.current=setTimeout(I,e.duration))},B=({currentTarget:{dataset:T}})=>{T.type==="next"?I():P()},k=()=>R.Children.toArray(e.children).slice(-S).map((T,N)=>l.jsx("div",{"data-index":N-S,"aria-roledescription":"slide","aria-hidden":"true",children:T},N-S)),D=()=>{if(!(!e.infinite&&S===w))return R.Children.toArray(e.children).slice(0,S).map((T,N)=>l.jsx("div",{"data-index":y+N,"aria-roledescription":"slide","aria-hidden":"true",children:T},y+N))},K=()=>{const T=e.vertical?"clientHeight":"clientWidth";e.vertical?f.current&&s(f.current.children[0][T]):o.current&&s(o.current[T])},q=T=>{e.canSwipe&&(window.TouchEvent&&T.nativeEvent instanceof TouchEvent?L=T.nativeEvent.touches[0][c]:L=T.nativeEvent[x],clearTimeout(j.current),M=!0)},J=()=>{e.canSwipe&&(M=!1,Math.abs(h)/i>.2?h<0?I():P():Math.abs(h)>0&&ce(n,300))},ae=()=>{requestAnimationFrame(ae),p.current.update()},ce=(T,N)=>{const W=N||e.transitionDuration,G=n,at=p.current.getAll();if(!o.current)return;const ct=e.vertical?"clientHeight":"clientWidth",Te=o.current[ct]/S;if(!at.length){clearTimeout(j.current);const lt={margin:-Te*(G+le())+h},ue=new He(lt,p.current).to({margin:-Te*(T+le())},W).onUpdate(ut=>{f.current&&(f.current.style.transform=`${_}(${ut.margin}px)`)});ue.easing(qe(e.easing)),ae();let X=T;X<0?X=y-w:X>=y&&(X=0),ue.onStart(()=>{typeof e.onStartChange=="function"&&e.onStartChange(n,X)}),ue.onComplete(()=>{h=0,typeof e.onChange=="function"&&e.onChange(n,X),r(X)}),ue.start()}},rt=T=>T<n+S&&T>=n,le=()=>e.infinite?S:0,it={transform:`${_}(-${(n+le())*O}px)`},[st,ot]=d.useState(window.innerHeight);return d.useEffect(()=>{const T=()=>{ot(window.innerHeight)};return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),l.jsxs("div",{dir:"ltr","aria-roledescription":"carousel",children:[l.jsxs("div",{style:{height:`${st}px`},className:"react-slideshow-container",onMouseEnter:v,onMouseOver:v,onMouseLeave:A,onMouseDown:q,onMouseUp:J,onMouseMove:E,onTouchStart:q,onTouchEnd:J,onTouchCancel:J,onTouchMove:E,children:[e.arrows&&Ge(e,n,B),l.jsx("div",{className:`react-slideshow-wrapper slide ${e.cssClass||""}`,ref:o,children:l.jsxs("div",{className:`images-wrap ${e.vertical?"vertical":"horizontal"}`,style:it,ref:f,children:[e.infinite&&k(),(R.Children.map(e.children,T=>T)||[]).map((T,N)=>{const W=rt(N);return l.jsx("div",{"data-index":N,className:W?"active":"","aria-roledescription":"slide","aria-hidden":W?"false":"true",children:T},N)}),D()]})}),e.arrows&&Je(e,n,B,m)]}),!!e.indicators&&Ve(e,n,U,m)]})});Qe.defaultProps=pe;function rn({isFav:e,toggleFav:t,isPlaying:n,playPauseSlideshow:r,downloadImage:i,shareImage:s}){const[o,f]=d.useState(!1),[p,m]=d.useState(fe),[w,S]=d.useState(ne);return l.jsxs("div",{className:`button-panel slideshow ${$?"button-panel-mobile":"button-panel-desktop"}`,children:[l.jsxs("div",{className:" text-panel",onClick:y=>{y.stopPropagation(),t(),f(!0),setTimeout(()=>f(!1),100)},children:[e?l.jsx(z,{icon:Ne,color:"#DC143C",className:`icon-panel ${$?"":"ml-20"}`,beat:o}):l.jsx(z,{icon:_e,className:`icon-panel ${$?"":"ml-20"}`,beat:o}),!$&&l.jsx("div",{children:" Favourites"})]}),l.jsxs("div",{className:" text-panel",onClick:y=>{y.stopPropagation(),i(),m(ke),setTimeout(()=>{m(fe)},oe)},children:[l.jsx(z,{icon:p,className:`icon-panel ${$?"":"ml-20"}`}),!$&&l.jsx("div",{children:" Download"})]}),l.jsxs("div",{className:" text-panel",onClick:y=>{y.stopPropagation(),s(),S(Se),setTimeout(()=>{S(ne)},oe)},children:[l.jsx(z,{icon:w,className:`icon-panel ${$?"":"ml-20"}`}),!$&&l.jsx("div",{children:" Share"})]}),!$&&l.jsxs("div",{className:" text-panel",onClick:y=>{y.stopPropagation(),r()},children:[n?l.jsx(z,{icon:mt,className:"icon-panel ml-20"}):l.jsx(z,{icon:gt,className:"icon-panel ml-20"}),l.jsx("div",{children:" Slideshow"})]})]})}var Ke={},we,sn=/^-?\d*\.?\d+(px|%)$/;function Xe(e){var t=e?e.trim():"0px",n=t.split(/\s+/).map(function(w){if(!sn.test(w))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return w}),r=n.shift(),i=n[0],s=i===void 0?r:i,o=n[1],f=o===void 0?r:o,p=n[2],m=p===void 0?s:p;return r+" "+s+" "+f+" "+m}function Oe(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.some(function(n,r){return Oe(e[r],t[r])}):e!==t}var Ze=(we=Object.prototype,we.hasOwnProperty),on=we.toString;function an(e){return e&&Ze.call(e,"ref")}function cn(e){return!e||typeof e=="number"?e:e.join(",")}var Q=new Map;function ln(e){e===void 0&&(e={});for(var t=e.root||null,n=Xe(e.rootMargin),r=Array.isArray(e.threshold)?e.threshold:[e.threshold!=null?e.threshold:0],i=Q.keys(),s;s=i.next().value;){var o=t!==s.root||n!==s.rootMargin||Oe(r,s.thresholds);if(!o)return s}return null}function un(e,t){var n=Q.get(e);if(n){for(var r=n.values(),i=void 0;i=r.next().value;)if(i.target===t.target)return i}return null}function fn(e,t){for(var n=0;n<e.length;n++){var r=un(t,e[n]);r&&r.handleChange(e[n])}}function et(e){var t=ln(e);if(t)return t;var n=new IntersectionObserver(fn,e);return Q.set(n,new Set),n}function tt(e){var t;e.observer&&!Q.has(e.observer)&&Q.set(e.observer,new Set),(t=Q.get(e.observer))===null||t===void 0||t.add(e),e.observer.observe(e.target)}function nt(e,t){if(Q.has(e.observer)){var n=Q.get(e.observer);n!=null&&n.delete(e)&&(n.size>0?e.observer.unobserve(t):(e.observer.disconnect(),Q.delete(e.observer)))}}var hn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dn=["root","rootMargin","threshold"],vn=["root","rootMargin","threshold","disabled"],pn=function(e){return dn.reduce(function(t,n){var r,i=n==="root"&&on.call(e.root)==="[object String]";return Object.assign(t,(r={},r[n]=i?document.querySelector(e[n]):e[n],r))},{})},gn=function(e){hn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.handleChange=function(r){n.props.onChange(r,n.externalUnobserve)},n.handleNode=function(r){var i=n.props.children;if(an(i)){var s=i.ref;typeof s=="function"?s(r):s&&Ze.call(s,"current")&&(s.current=r)}if(n.targetNode=void 0,r){var o=yt.findDOMNode(r);o&&o.nodeType===1&&(n.targetNode=o)}},n.observe=function(){if(n.props.children==null||n.props.disabled)return!1;if(!n.targetNode)throw new Error("ReactIntersectionObserver: Can't find DOM node in the provided children. Make sure to render at least one DOM node in the tree.");return n.observer=et(pn(n.props)),n.target=n.targetNode,tt(n),!0},n.unobserve=function(r){nt(n,r)},n.externalUnobserve=function(){n.targetNode&&n.unobserve(n.targetNode)},n}return t.prototype.getSnapshotBeforeUpdate=function(n){var r=this;this.prevTargetNode=this.targetNode;var i=vn.some(function(s){return Oe(r.props[s],n[s])});return i&&this.prevTargetNode&&(n.disabled||this.unobserve(this.prevTargetNode)),i},t.prototype.componentDidUpdate=function(n,r,i){var s=!1;i||(s=this.prevTargetNode!==this.targetNode,s&&this.prevTargetNode!=null&&this.unobserve(this.prevTargetNode)),(i||s)&&this.observe()},t.prototype.componentDidMount=function(){this.observe()},t.prototype.componentWillUnmount=function(){this.targetNode&&this.unobserve(this.targetNode)},t.prototype.render=function(){var n=this.props.children;return n!=null?R.cloneElement(R.Children.only(n),{ref:this.handleNode}):null},t.displayName="IntersectionObserver",t}(R.Component),mn=function(){},yn=function(e,t){var n=t===void 0?{}:t,r=n.root,i=n.rootMargin,s=n.threshold,o=n.disabled,f=d.useRef(!1),p=d.useRef({handleChange:function(j){e(j,mn)}}),m=d.useCallback(function(){p.current.target&&f.current&&(nt(p.current,p.current.target),f.current=!1)},[]);p.current.handleChange=function(C){e(C,m)};var w=function(){p.current.observer&&p.current.target&&!f.current&&(tt(p.current),f.current=!0)},S=d.useMemo(function(){return s},[cn(s)]),y=d.useMemo(function(){if(o){m(),p.current.observer=void 0;return}var j=typeof r=="string"?document.querySelector(r):r,C=et({root:j,rootMargin:i,threshold:S});return p.current.observer=C,m(),w(),C},[r,i,S,o]),O=d.useCallback(function(j){var C=j!=null&&p.current.target!==j;y||m(),C&&(m(),p.current.target=j,w()),j||(m(),p.current.target=void 0)},[y]);return[O,m]};const bn=Object.freeze(Object.defineProperty({__proto__:null,default:gn,parseRootMargin:Xe,useIntersectionObserver:yn},Symbol.toStringTag,{value:"Module"})),wn=bt(bn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(d),n=r(wn);function r(h){return h&&h.__esModule?h:{default:h}}function i(){if(typeof WeakMap!="function")return null;var h=new WeakMap;return i=function(){return h},h}function s(h){if(h&&h.__esModule)return h;if(h===null||o(h)!=="object"&&typeof h!="function")return{default:h};var _=i();if(_&&_.has(h))return _.get(h);var x={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in h)if(Object.prototype.hasOwnProperty.call(h,b)){var u=c?Object.getOwnPropertyDescriptor(h,b):null;u&&(u.get||u.set)?Object.defineProperty(x,b,u):x[b]=h[b]}return x.default=h,_&&_.set(h,x),x}function o(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(x){return typeof x}:o=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},o(h)}function f(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}function p(h,_){for(var x=0;x<_.length;x++){var c=_[x];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(h,c.key,c)}}function m(h,_,x){return _&&p(h.prototype,_),h}function w(h,_){return _&&(o(_)==="object"||typeof _=="function")?_:y(h)}function S(h){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},S(h)}function y(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function O(h,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(_&&_.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),_&&j(h,_)}function j(h,_){return j=Object.setPrototypeOf||function(c,b){return c.__proto__=b,c},j(h,_)}function C(h,_,x){return _ in h?Object.defineProperty(h,_,{value:x,enumerable:!0,configurable:!0,writable:!0}):h[_]=x,h}var L=function(){return typeof window<"u"},M=function(h){O(_,h);function _(x){var c;return f(this,_),c=w(this,S(_).call(this,x)),C(y(c),"image",void 0),C(y(c),"handleOnlineStatus",function(){c.setState({isOnline:window.navigator.onLine})}),C(y(c),"loadImage",function(b,u){c.image&&(c.image.onload=null,c.image.onerror=null);var g=new Image;c.image=g,g.onload=c.onLoad,g.onerror=function(a){c.onError(a)},g.src=b,u&&(g.srcset=u.srcSet,g.sizes=u.sizes)}),C(y(c),"onLoad",function(){c.props.delay?c.setImageWithDelay():c.setImage()}),C(y(c),"setImageWithDelay",function(){setTimeout(function(){c.setImage()},c.props.delay)}),C(y(c),"setImage",function(){c._isMounted&&c.setState({image:c.image.src,loading:!1,srcSetData:{srcSet:c.image.srcset||"",sizes:c.image.sizes||""}},function(){window.removeEventListener("online",c.handleOnlineStatus),window.removeEventListener("offline",c.handleOnlineStatus)})}),C(y(c),"onError",function(b){var u=c.props.onError;u&&u(b)}),C(y(c),"handleIntersection",function(b,u,g){if(b.isIntersecting){var a=c.props,v=a.src,E=a.srcSetData;g&&(c.loadImage(v,E),u())}}),c._isMounted=!1,c.state={isOnline:L()?window.navigator.onLine:!0,image:x.placeholder,loading:!0,srcSetData:{srcSet:"",sizes:""}},c}return m(_,[{key:"componentDidMount",value:function(){this._isMounted=!0,L()&&(window.addEventListener("online",this.handleOnlineStatus),window.addEventListener("offline",this.handleOnlineStatus))}},{key:"componentDidUpdate",value:function(c){var b=this,u=this.props,g=u.src,a=u.placeholder,v=u.srcSetData;g!==c.src&&this.setState({image:a,loading:!0},function(){b.loadImage(g,v)})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.image&&(this.image.onload=null,this.image.onerror=null),this.timeout&&window.clearTimeout(this.timeout),window.removeEventListener("online",this.handleOnlineStatus),window.removeEventListener("offline",this.handleOnlineStatus)}},{key:"render",value:function(){var c=this,b={onChange:function(F,A){return c.handleIntersection(F,A,c.state.isOnline)},rootMargin:this.props.rootMargin||"0% 0% 25%",threshold:this.props.threshold||[0],disabled:this.props.noLazyLoad||!1},u=this.state,g=u.image,a=u.loading,v=u.srcSetData,E=this.props,I=E.src,P=E.children;E.noRetry;var U=E.noLazyLoad;if(!P||typeof P!="function")throw new Error("ProgressiveImage requires a function as its only child");return U?P(I,!1,this.props.srcSetData):t.createElement(n.default,b,P(g,a,v))}}]),_}(t.Component);e.default=M})(Ke);const _n=wt(Ke);function Sn({slidesrc:e,thumbsrc:t,setIsPlaying:n}){return l.jsx("div",{className:"each-slide",children:l.jsx(_n,{src:e,placeholder:t,children:r=>l.jsx("img",{src:r,className:$?"":"img-desktop",onContextMenu:i=>i.preventDefault(),onClick:i=>{n(!1),i.stopPropagation()}})})})}function xn({edgeOffset:e,activeEvent:t,imagesToRender:n,setAllImages:r,activeImageMap:i,setActiveImageMap:s,slideIndex:o,setSlideIndex:f,setJumpTrigger:p,jumpToIndex:m}){const[w,S]=d.useState(!1),[y,O]=d.useState(!1),j=()=>{O(!y)},C=()=>{const c=!w;S(c);const b=n[o];let u={};localStorage.getItem("favList")&&(u=JSON.parse(localStorage.getItem("favList"))),c?u[b.imgid]=b:delete u[b.imgid];let g=[];Object.entries(u).forEach(([a,v])=>{g.push(v)}),t!="fav"&&r(a=>({...a,fav:g})),localStorage.setItem("favList",JSON.stringify(u))},L=async()=>{const b=n[o].fullressrc,u=await fetch(b);if(!u.ok)throw new Error("Image download failed.");const g=await u.blob(),a=URL.createObjectURL(g),v=document.createElement("a");v.href=a;const E=new Date,I=E.getFullYear(),P=String(E.getMonth()+1).padStart(2,"0"),U=String(E.getDate()).padStart(2,"0"),H=String(E.getHours()).padStart(2,"0"),F=String(E.getMinutes()).padStart(2,"0"),A=String(E.getSeconds()).padStart(2,"0"),B=String(E.getMilliseconds()).padStart(3,"0"),k=`${document.title}_${I}${P}${U}${H}${F}${A}${B}.jpg`;v.download=k,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(a)},M=()=>{const c=window.location.pathname.split("/");c.length<=3?c.push("share/"):(c.length=3,c[c.length-1]==""?c[c.length-2]="share":c[c.length-1]="share/");const b=n[o],u=window.location.origin+c.join("/").replace("//","/")+"?id="+b.imgid;navigator.share?navigator.share({title:document.title,text:document.title,url:u}):navigator.clipboard?navigator.clipboard.writeText(u):console.error("Neither Web Share API nor Clipboard API is supported")};d.useEffect(()=>{const c=document.getElementById("slideshow");if(c&&t!=""&&o>=0){document.body.style.overflow="hidden",c.style.display="block";const u=document.getElementById(n[o].imgid);u&&u.scrollIntoView();let g={};localStorage.getItem("favList")&&(g=JSON.parse(localStorage.getItem("favList")));const a=n[o];Object.keys(g).some(v=>v==a.imgid)?S(!0):S(!1)}const b=u=>{o>=0&&(u.key=="ArrowLeft"?_(-1):u.key=="ArrowRight"?_(1):u.key=="Escape"&&h())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[o]);const h=()=>{let c={};localStorage.getItem("favList")&&(c=JSON.parse(localStorage.getItem("favList")));let b=[];Object.entries(c).forEach(([g,a])=>{b.push(a)}),r(g=>({...g,fav:b}));const u=document.getElementById("slideshow");u&&(document.body.style.overflow="auto",u.style.display="none",f(-1),s([]))},_=c=>{if(t!=""){const b=Math.min(Math.max(o+c,0),n.length-1);f(b),p(!0),O(!1)}},x=(c,b)=>{{if(b-c==1||c-b==2*e){let u=i;const g=Math.min(...u),a=Math.max(...u)+1;a<=n.length-1&&o>e/2&&(u=u.map(v=>v==g?a:v)),s(u),f(o+1)}if(c-b==1||b-c==2*e){let u=i;const g=Math.min(...u)-1,a=Math.max(...u);g>=0&&o<n.length-1-e/2&&(u=u.map(v=>v==a?g:v)),s(u),f(o-1)}}};return l.jsxs("div",{id:"slideshow",className:"slide-container",onClick:()=>O(!1),children:[t!=""&&l.jsx(Qe,{autoplay:y,pauseOnHover:!1,duration:3e3,transitionDuration:250,infinite:!0,customEdgeLimitLeft:o>0,customEdgeLimitRight:o<n.length-1,ref:m,arrows:!1,canSwipe:$,onChange:x,children:i.map(c=>n[c]).map((c,b)=>l.jsx(Sn,{slidesrc:c.slidesrc,thumbsrc:c.thumbsrc,setIsPlaying:O},b))}),l.jsx("div",{className:"close slideshow",onClick:h,children:l.jsx(z,{icon:_t,size:"sm",color:"#333"})}),l.jsx(rn,{isFav:w,toggleFav:C,isPlaying:y,playPauseSlideshow:j,downloadImage:L,shareImage:M}),!$&&l.jsxs(l.Fragment,{children:[o>0&&l.jsx("div",{className:"left-arrow slideshow",id:"prev",onClick:c=>{c.stopPropagation(),_(-1)},children:"<"}),n&&o<n.length-1&&l.jsx("div",{className:"right-arrow slideshow",id:"next",onClick:c=>{c.stopPropagation(),_(1)},children:">"})]})]})}function En({mainTitle:e,activeEvent:t,fallbackEvent:n,eventData:r,scroll:i}){const[s,o]=d.useState(""),[f,p]=d.useState(""),[m,w]=d.useState(""),[S,y]=d.useState("");return d.useEffect(()=>{t!=""&&(t!="fav"&&t!="faces"?(p(r[t].date),w(r[t].coverPortrait),y(r[t].coverLandscape)):(t=="fav"&&p("Favourites"),t=="faces"&&p("Faces"),(m==""||S=="")&&(w(r[n].coverPortrait),y(r[n].coverLandscape))))},[t,r]),d.useEffect(()=>{const O=()=>{const j=document.getElementById("cover"),C=document.getElementById("cover-overlay");j&&C&&(j.style.height=document.documentElement.clientHeight+"px",C.style.height=document.documentElement.clientHeight+"px",document.documentElement.clientWidth>document.documentElement.clientHeight?o(S):o(m))};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[m,S]),l.jsxs("div",{className:"cover",id:"cover",children:[l.jsx("img",{src:s,onLoad:O=>O.target.style.opacity="1"}),l.jsx("div",{className:"cover-overlay",id:"cover-overlay",children:l.jsxs("div",{className:"cover-border",children:[l.jsx("div",{className:"text middle",children:e}),l.jsx("div",{className:"text bottom",children:f}),l.jsx("button",{className:"text view",onClick:i,children:"View Gallery"})]})})]})}function On({eventList:e,eventData:t,activeEvent:n,setActiveEvent:r,fallbackEvent:i,scroll:s}){const[o,f]=d.useState(!1),[p,m]=d.useState(ne),w=()=>{const y=window.location.href;navigator.share?navigator.share({title:document.title,text:document.title,url:y}):navigator.clipboard?navigator.clipboard.writeText(y):console.error("Neither Web Share API nor Clipboard API is supported")},S=y=>{f(y)};return l.jsxs("div",{id:"eventBox",className:"eventBox",children:[e.map(y=>l.jsxs("div",{className:"event",style:{color:n==y?"#000":"",display:!$||n==y||i==y||o?"flex":"none"},onClick:()=>{r(y),f(!1),s()},children:[l.jsx("div",{children:y}),l.jsx("div",{className:"titleLight",children:t[y].date})]},y)),$&&l.jsx("div",{className:"event",style:{color:"#000",marginLeft:$?"":"auto"},onClick:()=>{S(!o)},children:l.jsx("div",{children:l.jsx(z,{icon:St,size:"lg"})})}),l.jsx("div",{className:"event",style:{color:n=="faces"?"#000":"",marginLeft:$?"":"auto"},onClick:()=>{r("faces"),s()},children:l.jsxs("div",{children:[l.jsx(z,{icon:xt,size:"lg"}),!$&&" Faces"]})}),l.jsx("div",{className:"event",style:{color:"#000"},onClick:()=>{w(),m(Se),setTimeout(()=>{m(ne)},oe)},children:l.jsxs("div",{children:[l.jsx(z,{icon:p,size:"lg"}),!$&&" Share"]})}),l.jsx("div",{className:"event",style:{color:n=="fav"?"#000":"",paddingRight:0},onClick:()=>{r("fav"),s()},children:l.jsxs("div",{children:[l.jsx(z,{icon:_e,size:"lg"}),!$&&" Favourites"]})})]})}function Tn(){const[t,n]=d.useState({}),[r,i]=d.useState(""),[s,o]=d.useState(""),[f,p]=d.useState([]),[m,w]=d.useState(""),[S,y]=d.useState([]),[O,j]=d.useState({}),[C,L]=d.useState(-1),[M,h]=d.useState(!1),[_,x]=d.useState([]),c=async()=>{let a={fav:[],faces:{}},v=[],E="",I="";const P=Tt,H=new URLSearchParams(window.location.search).get("event");w(P.eventTitle),j(P.eventData);for(let F=0;F<P.events.length;F++){const A=P.events[F],B=P[A];v.push(A),I==""&&(I=A),E==""&&(E=A),H!=""&&(H==A.toLowerCase()&&(E=A),H=="fav"&&(E="fav"),H=="faces"&&(E="faces")),a[A]=[];for(let k=0;k<B.length;k++){let D=B[k],K=Z,q=D.height/D.width*Z;if(D.id.slice(-4)==".JPG"){a[A].push({imgid:D.id,fullressrc:"https://images.pixieset.com/55522446/"+D.id,slidesrc:"https://images.pixieset.com/55522446/"+D.id.replace("xxlarge","xlarge"),thumbsrc:"https://images.pixieset.com/55522446/"+D.id.replace("xxlarge","large"),width:K,height:q});continue}const J=D.width<D.height?"w":"h",ae=D.width<D.height?D.width:D.height;a[A].push({imgid:D.id,fullressrc:ee+D.id+`=${J}${ae}`,slidesrc:ee+D.id+`=${J}${Me}`,thumbsrc:ee+D.id+`=${J}${Z}`,width:K,height:q})}}if("faces"in P)for(const F in P.faces){const A=P.faces[F];a.faces[F]=[];for(let B=0;B<A.length;B++){let k=A[B],D=Z,K=k.height/k.width*Z;const q=k.width<k.height?"w":"h",J=k.width<k.height?k.width:k.height;a.faces[F].push({imgid:k.id,parentid:F,sourceid:k.sourceid,fullressrc:ee+k.id+`=${q}${J}`,slidesrc:ee+k.id+`=${q}${Me}`,thumbsrc:ee+k.id+`=${q}${Z}`,width:D,height:K})}}o(I),i(E),y(v),n(a)},b=()=>{let a=[];if(localStorage.getItem("favList")){const v=JSON.parse(localStorage.getItem("favList"));Object.entries(v).forEach(([E,I])=>{a.push(I)})}if(n(v=>({...v,fav:a})),localStorage.getItem("faceList")){const v=JSON.parse(localStorage.getItem("faceList"));Object.entries(v).forEach(([E,I])=>{})}};d.useEffect(()=>{c(),b()},[]),d.useEffect(()=>{if(r!=""){r!="fav"&&r!="faces"&&o(r),document.title=`${m} - ${r}`;const a=window.location.pathname.split("/"),v="?event="+r.toLowerCase();a.length<=3?a.push(v):(a.length=3,a[a.length-1]==""?a[a.length-2]=v:a[a.length-1]=v+"/");const E=a.join("/").replace("//","/");history.replaceState(null,"",E)}},[r]);const u=a=>{if(typeof a=="number"&&h(!0),a&&a.goTo&&M){h(!1);let v=[];const E=Math.max(0,C-10),I=Math.min(C+10+1,_.length);for(let P=E;P<I;P++)v.push(P);p(v),a.goTo(Math.min(10,C),{skipTransition:!0})}},g=()=>{const a=document.getElementById("eventBox");a&&a.scrollIntoView({behavior:"smooth"})};return l.jsxs(l.Fragment,{children:[l.jsx(xn,{edgeOffset:10,activeEvent:r,imagesToRender:_,setAllImages:n,activeImageMap:f,setActiveImageMap:p,slideIndex:C,setSlideIndex:L,setJumpTrigger:h,jumpToIndex:u}),r!=""&&l.jsxs(l.Fragment,{children:[l.jsx(En,{mainTitle:m,activeEvent:r,fallbackEvent:s,eventData:O,scroll:g}),l.jsx(On,{eventList:S,eventData:O,activeEvent:r,setActiveEvent:i,fallbackEvent:s,scroll:g}),r!="faces"?l.jsx(It,{images:t[r],faceImages:t.faces,imagesToRender:_,setImagesToRender:x,setAllImages:n,targetRowHeight:Et,edgeMargin:je,spacing:Ce,setSlideIndex:L,jumpToIndex:u}):l.jsx(Nt,{faceImages:t.faces,targetRowHeight:Ot,edgeMargin:je,spacing:Ce})]})]})}Ct.createRoot(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsx(Tn,{})}));
